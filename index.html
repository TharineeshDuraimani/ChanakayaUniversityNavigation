<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Campus Navigation</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    crossorigin=""
  ></script>
  <style>
    * { box-sizing: border-box; margin:0; padding:0; font-family: Arial,sans-serif;}
    body { background: #f0f4f8; padding: 20px; display:flex; justify-content:center; align-items:center; min-height:100vh;}
    .container { display:flex; flex-wrap:wrap; width:100%; max-width:1200px; background:#fff; border-radius:20px; overflow:hidden; box-shadow:0 10px 25px rgba(0,0,0,0.15); position:relative;}

    .login-section, .logo-section { flex:1 1 50%; padding:40px 30px; max-height:90vh; overflow-y:auto; background: rgba(255,255,255,0.95);}
    .logo-section { text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center;}
    .login-section img { width:24px; margin-bottom:20px;}
    .login-section h2 { color:#1D3A5F; font-size:28px; font-weight:bold; margin-bottom:8px;}
    .login-section p { color:#2A5980; font-size:14px; margin-bottom:20px;}
    .login-section label { display:block; margin-bottom:5px; color:#1D3A5F; font-weight:bold;}
    .login-section select { width:100%; padding:12px 15px; border-radius:25px; border:1px solid #c0d4f0; background: rgba(255,255,255,0.7); margin-bottom:20px; font-size:14px; color:#1D3A5F;}
    .login-section button { width:100%; padding:12px; border:none; border-radius:25px; background:linear-gradient(to right,#3a86ff,#1c5ed6); color:#fff; font-size:16px; font-weight:bold; cursor:pointer; transition:0.3s;}
    .login-section button:hover { opacity:0.9;}
    .logo-section img { height:160px; margin-bottom:20px;}
    .logo-section h1 { font-size:28px; font-weight:bold; margin-bottom:10px; color:#1A2E45;}
    .logo-section h2 { font-size:22px; font-weight:600; color:#28a745; margin-bottom:10px;}
    .logo-section p { font-size:14px; color:#3b82f6;}

    /* Map Section */
    #mapContainer { display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:#fff; z-index:2000; }
    #map { width:100%; height:100%; }
    .back-button { position:absolute; top:20px; left:20px; z-index:2100; padding:10px 15px; background:#3a86ff; color:#fff; border:none; border-radius:8px; cursor:pointer;}
    .back-button:hover { opacity:0.9;}
  </style>
</head>
<body>

<div class="container" id="inputContainer">

  <!-- Login Section -->
  <div class="login-section" id="loginSection">
    <div>
      <img src="https://img.icons8.com/ios-filled/50/000000/horizontal-line.png"/>
      <h2>BotGuide</h2>
      <p>Please enter your Start and End locations</p>
    </div>
    <form>
      <label for="start">Start Location</label>
      <select id="start">
        <option value="13.2201951,77.7541421">Main Gate 1</option>
        <option value="13.2213743,77.7551241">Main Gate 2</option>
        <option value="13.2216727,77.7549353">Flag post</option>
        <option value="13.2221283,77.7552384">Admin block 1</option>
        <option value="13.2233225,77.7559227">Admin block 2</option>
        <option value="13.2233212,77.7541116">Parents Stay Area</option>
        <option value="13.2237132,77.7572504">Staff Quarters</option>
        <option value="13.2247972,77.7571941">Food Court</option>
        <option value="13.2245171,77.7588691">Hostel 1</option>
        <option value="13.228393,77.757574">Sports Area</option>
      </select>

      <label for="end">End Location</label>
      <select id="end">
        <option value="13.2201951,77.7541421">Main Gate 1</option>
        <option value="13.2213743,77.7551241">Main Gate 2</option>
        <option value="13.2216727,77.7549353">Flag post</option>
        <option value="13.2221283,77.7552384">Admin block 1</option>
        <option value="13.2233225,77.7559227">Admin block 2</option>
        <option value="13.2233212,77.7541116">Parents Stay Area</option>
        <option value="13.2237132,77.7572504">Staff Quarters</option>
        <option value="13.2247972,77.7571941">Food Court</option>
        <option value="13.2245171,77.7588691">Hostel 1</option>
        <option value="13.228393,77.757574">Sports Area</option>
      </select>

      <button type="button" onclick="navigate()">Navigate</button>
    </form>
  </div>

  <!-- Logo Section -->
  <div class="logo-section" id="logoSection">
    <img src="banner.jpg" alt="">
  </div>

</div>

<!-- Map Section -->
<div id="mapContainer">
  <button class="back-button" onclick="goBack()">Back</button>
  <div id="map"></div>
  <div id="routeInfo" style="
    position:absolute;
    bottom:20px;
    left:20px;
    z-index:2100;
    background:rgba(255,255,255,0.9);
    padding:10px 15px;
    border-radius:8px;
    box-shadow:0 5px 15px rgba(0,0,0,0.2);
    font-size:14px;
    color:#1D3A5F;
    max-width:250px;
  "></div>
</div>


<script>
let map, markers, routeLine;

function navigate() {
  const startValue = document.getElementById("start").value.split(",");
  const endValue = document.getElementById("end").value.split(",");

  const startLatLng = [parseFloat(startValue[0]), parseFloat(startValue[1])];
  const endLatLng = [parseFloat(endValue[0]), parseFloat(endValue[1])];

  if (startLatLng.toString() === endLatLng.toString()) {
    alert("Start and End locations cannot be the same!");
    return;
  }

  document.getElementById("inputContainer").style.display = "none";
  document.getElementById("mapContainer").style.display = "block";

  if (!map) {
    map = L.map('map').setView(startLatLng, 16);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 20,
      attribution: 'Â© OpenStreetMap'
    }).addTo(map);
    markers = L.layerGroup().addTo(map);
  }

  markers.clearLayers();
  if (routeLine) map.removeLayer(routeLine);

  // Add markers
  const startMarker = L.marker(startLatLng).addTo(markers).bindPopup("Start").openPopup();
  const endMarker = L.marker(endLatLng).addTo(markers).bindPopup("End");

  // Draw polyline
  routeLine = L.polyline([startLatLng, endLatLng], {color: 'blue', weight:4}).addTo(map);

  // Fit map bounds
  map.fitBounds([startLatLng, endLatLng], {padding:[50,50]});

  // Calculate distance in meters and convert to km
  const distanceMeters = map.distance(startLatLng, endLatLng);
  const distanceKm = (distanceMeters / 1000).toFixed(2);

  // Update route info panel
  document.getElementById("routeInfo").innerHTML = `
    <strong>Start:</strong> ${document.getElementById("start").selectedOptions[0].text}<br>
    <strong>End:</strong> ${document.getElementById("end").selectedOptions[0].text}<br>
    <strong>Distance:</strong> ${distanceKm} km
  `;
}

function goBack() {
  document.getElementById("mapContainer").style.display = "none";
  document.getElementById("inputContainer").style.display = "flex";
}
</script>


</body>
</html>

